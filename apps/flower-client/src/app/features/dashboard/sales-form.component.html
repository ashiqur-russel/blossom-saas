<app-card [title]="isEditMode ? 'Edit Weekly Sales Data' : 'Add Weekly Sales Data'" [subtitle]="isEditMode ? 'Update your weekly business data' : 'Enter your weekly business data'">
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="sales-form">
    <div class="form-row">
      <div class="form-field">
        <app-input
          label="Date"
          type="date"
          formControlName="date"
          [required]="true"
          [error]="getFieldError('date')">
        </app-input>
      </div>
      <div class="form-field">
        <app-input
          label="Weekday"
          type="text"
          formControlName="weekday"
          [readonly]="true">
        </app-input>
      </div>
    </div>

    <div class="form-field">
      <app-input
        label="Flower Amount (Units)"
        type="number"
        formControlName="flowerAmount"
        [min]="1"
        [step]="1"
        [required]="true"
        [error]="getFieldError('flowerAmount')">
      </app-input>
    </div>

    <div class="form-field">
      <app-input
        label="Total Buying Amount ($)"
        type="number"
        formControlName="buyingAmount"
        [min]="0"
        [step]="0.01"
        [required]="true"
        [error]="getFieldError('buyingAmount')">
      </app-input>
    </div>

    <div class="weekend-sales-section">
      <p class="section-label">Weekend Sales</p>
      
      <div class="form-field">
        <app-input
          label="Thursday Sales ($)"
          type="number"
          formControlName="salesThursday"
          [min]="0"
          [step]="0.01"
          [error]="getFieldError('salesThursday')">
        </app-input>
      </div>

      <div class="form-field">
        <app-input
          label="Friday Sales ($)"
          type="number"
          formControlName="salesFriday"
          [min]="0"
          [step]="0.01"
          [error]="getFieldError('salesFriday')">
        </app-input>
      </div>

      <div class="form-field">
        <app-input
          label="Saturday Sales ($)"
          type="number"
          formControlName="salesSaturday"
          [min]="0"
          [step]="0.01"
          [error]="getFieldError('salesSaturday')">
        </app-input>
      </div>
    </div>

    <div class="form-field">
      <label>Calculated Profit</label>
      <div class="profit-display">
        ${{ calculatedProfit.toFixed(2) }}
      </div>
    </div>

    <div class="form-field">
      <app-input
        label="Savings This Week ($)"
        type="number"
        formControlName="savings"
        [min]="0"
        [step]="0.01"
        [required]="true"
        [error]="getFieldError('savings')">
      </app-input>
    </div>

    <div *ngIf="error" class="error-message">
      {{ error }}
    </div>

    <div class="form-actions">
      <app-button
        *ngIf="isEditMode"
        label="Cancel"
        variant="secondary"
        type="button"
        (clicked)="cancelEdit()">
      </app-button>
      <app-button
        [label]="loading ? (isEditMode ? 'Updating...' : 'Adding...') : (isEditMode ? 'Update Sales Entry' : '+ Add Sales Entry')"
        variant="primary"
        type="submit"
        [disabled]="!form.valid || loading"
        [loading]="loading">
      </app-button>
    </div>
  </form>
</app-card>

