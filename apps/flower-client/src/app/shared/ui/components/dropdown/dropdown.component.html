<div class="dropdown-wrapper">
  @if (label) {
    <label class="dropdown-label" [class.required]="required">
      {{ label }}
    </label>
  }
  
  <div class="dropdown-container" [class.disabled]="disabled" [class.open]="isOpen" [class.error]="!!error" [class.dropdown-open]="isOpen">
    <button
      type="button"
      class="dropdown-trigger"
      [disabled]="disabled"
      (click)="toggleDropdown($event)">
      <span class="dropdown-value" [class.placeholder]="!value">
        {{ getSelectedLabel() }}
      </span>
      <svg class="dropdown-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
      </svg>
    </button>

    @if (isOpen) {
      <div class="dropdown-menu" (click)="$event.stopPropagation()">
        @for (option of options; track option.value) {
          <button
            type="button"
            class="dropdown-option"
            [class.selected]="value === option.value"
            (click)="onSelect(option.value); $event.stopPropagation()">
            {{ option.label }}
          </button>
        }
      </div>
    }
  </div>

  @if (error) {
    <span class="dropdown-error">{{ error }}</span>
  }
</div>

